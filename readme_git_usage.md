# Git 使用法
## 总旨
1. 让每个到主分支的 merge 和提交，都是可运行且不影响现有功能的。一次到主分支的 merge 意味着一次完整的、能正常工作的改动。
2. 能够看出某几个 commit 的组合到底是在做一件什么事情。
3. 避免双向地 merge 来 merge 去。*多次创建短期存在的分支，并在收工之后立马合并且删除*；而不是创建一个长期存在的分支然后乱七八糟地来回 merge。

## 正文

分支根据前缀分为以下几类：
### patch/** 分支
**短期存在。** 进行一些开发完毕后马上合并到主分支的修改（patch）。

包括但不限于 bug 修复、加入新功能、重构。

#### 命名
必须写*动词句*。如 “patch/fix_applet_loading” “patch/refactor_electron_boot”，写明白你到底是修复（fix），重构（refactor），还是什么别的。不要写
如 “patch/electron_boot” “patch/applet_loading” 之类的没有动词的含糊句子。

#### 合并和删除
当 patch 完成、检查可以正常工作之后，合并到主分支，并*删除*该分支，以标记一项 patch 行动的结束。

#### 复原

任何 patch 分支都不能复原。

### release/** 分支
**短期存在。** 进行一些临时脱离主线的开发，以应对即将发布新版本。

#### 命名
写版本号。如 “release/2.0.0”。

#### 合并和删除
发布对应版本后*删除*该分支。如果有值得继续沿用的修改，可以在删除前合并到主分支。

#### 复原

任何 release 分支都不能复原。

### fork/** 分支
**长期存在。** 这里面放一些实验性的，担心不被用户接受的，暂时（或永远）不能合并到主线的修改。

#### 合并和删除
任何时候都可以从其他分支合并到本分支。

当实验性的修改宣布废弃之后，直接删除分支。

当确定要将实验性修改作为正式内容之后，将本分支合并到主分支，删除本分支。
